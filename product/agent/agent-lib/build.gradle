apply from: "$rootDir/gradle/java-7.gradle"
apply from: "$rootDir/gradle/license.gradle"

// We only want the dependency management provided by the Spring Boot plugin.
apply plugin: 'org.springframework.boot'
bootRepackage.enabled = false

description = "Code that is shared between the Codekvast daemon and collector"
archivesBaseName = "codekvast-agent-lib"
version = codekvastVersion

dependencies {
    compileOnly lombok
    compileOnly aspectjWeaver
    compileOnly "com.fasterxml.jackson.core:jackson-annotations:$jacksonVersion"

    compile slf4jApi
    compile 'org.reflections:reflections:0.9.11'
    compile 'javax.validation:validation-api:1.1.0.Final'

    testCompile aspectjWeaver
    testCompile lombok
    testCompile junit
    testCompile mockito
    testCompile "com.fasterxml.jackson.core:jackson-databind:$jacksonVersion"
    testCompile 'org.springframework.boot:spring-boot-starter-test'

    testRuntime logback
}
