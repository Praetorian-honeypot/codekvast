apply from: "$rootDir/gradle/java.gradle"


description = "Code that is shared between codekvast-agent and the collector"
archivesBaseName = "codekvast-agent-util"
version = project.parent.parent.version
sourceCompatibility = 1.6

dependencies {
    compile lombok

    // Absolutely NO other compile or runtime dependencies are allowed here!

    // All transitive compile and runtime dependencies will end up in the collected app's system
    // class path. (Lombok will be excluded when assembling the codekvast-collector jar).

    testCompile junit
    testCompile mockito
}

test {
    // Make it possible to retrieve the sample spring file produced by a test
    ext.sampleConfigFile = file("$buildDir/codekvast.properties.sample")

    // Also make the file name available to the test that produces it...
    systemProperty 'sampleConfigFile.path', sampleConfigFile.absolutePath
}
