<form class="form-inline" (ngSubmit)="search()" #searchForm="ngForm">

    <div class="form-group col-8">
        <label class="sr-only" for="signature">Signature</label>
        <input class="form-control col-8"
               id="signature"
               name="signature"
               [(ngModel)]="signature"
               type="text"
               placeholder="Method signature">
    </div>

    <div class="form-group col-3">
        <label class="mr-sm-2" for="maxResults">Max Results</label>
        <input class="form-control" id="maxResults" name="maxResults" [(ngModel)]="maxResults" type="number" min="1" max="10000">
    </div>

    <div class="form-group col-1">
        <button type="submit" class="form-control btn btn-primary" [disabled]="!searchForm.form.valid">Search</button>
    </div>
</form>

<h2 *ngIf="errorMessage">{{errorMessage}}</h2>

<div *ngIf="data" class="container">
    <p class="pl-3 small">Found {{data.numMethods}} methods in {{data.queryTimeMillis}} ms</p>
    <table class="table table-striped table-hover table-sm">
        <thead>
        <tr>
            <th>Signature</th>
            <th>Collected Days</th>
            <th>Last Invoked At</th>
        </tr>
        </thead>

        <tbody>
        <tr *ngFor="let method of data.methods">
            <td scope="row">{{method.signature}}</td>
            <td>{{method.collectedDays }}</td>
            <td>{{method.lastInvokedAtMillis | ckAge:dateFormat}}</td>
        </tr>
        </tbody>
    </table>
</div>
