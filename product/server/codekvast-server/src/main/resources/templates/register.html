<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="fragments :: #head-boilerplate"/>
    <title th:text="#{registration.page-title}">Codekvast - registration</title>
    <th:block th:include="fragments :: #head-stylesheets"/>
    <link rel="stylesheet" th:href="@{/app/register.css}"/>
</head>

<body ng-app="codekvastRegistration" class="ng-cloak">
<div class="container" ng-controller="RegistrationCtrl">

    <h1 th:text="#{registration.page-title}">Codekvast - registration</h1>

    <form class="form-horizontal" name="form" ng-submit="doSubmit()">

        <fieldset ng-show="errorMessages">
            <legend>Form errors</legend>
            <div class="col-md-offset-2 col-md-6 text-danger">
                <span ng-repeat="msg in errorMessages">{{msg}}<br/></span>
            </div>
        </fieldset>

        <fieldset>
            <legend>User details</legend>
            <div class="form-group">
                <label class="col-md-2 control-label" for="fullName">Full name</label>
                <input class="col-md-6" id="fullName" name="fullName"
                       placeholder="Your Full Name"
                       type="text"
                       ng-model="registration.fullName"
                       ng-required="true"
                       th:attr="ng-maxlength=${maxUsernameLength}"/>
                <ck-validation-icons field="form.fullName"/>
                <span ng-show="form.fullName.$pristine" class="glyphicon glyphicon-asterisk"></span>
                <span ng-show="isFieldValid(form.fullName)" class="glyphicon glyphicon-ok"></span>
                <span ng-show="isFieldInvalid(form.fullName)" class="glyphicon glyphicon-ban-circle"></span>
            </div>
            <div class="form-group">
                <label class="col-md-2 control-label" for="emailAddress1">Email address</label>
                <input class="col-md-6"
                       id="emailAddress1"
                       name="emailAddress1" placeholder="Your Email Address"
                       type="email"
                       ng-model="registration.emailAddress" ng-required="true" ck-unique="emailAddress"
                       ck-lowercase="true" ng-model-options="{debounce: 500}"
                       th:attr="ng-maxlength=${maxEmailAddressLength}"/>
                <span ng-show="form.emailAddress1.$pristine" class="glyphicon glyphicon-asterisk"></span>
                <span ng-show="isFieldValid(form.emailAddress1)" class="glyphicon glyphicon-ok"></span>
                <span ng-show="isFieldInvalid(form.emailAddress1)" class="glyphicon glyphicon-ban-circle"></span>
            </div>
            <div class="form-group">
                <label class="col-md-2 control-label" for="emailAddress2">Verify email address</label>
                <input class="col-md-6"
                       id="emailAddress2"
                       name="emailAddress2" placeholder="Your Email Address again"
                       type="email"
                       ng-model="emailAddress2" ck-must-match-lc="emailAddress1"
                       ng-required="true"
                       ck-lowercase="true"
                       th:attr="ng-maxlength=${maxEmailAddressLength}"/>
                <span ng-show="form.emailAddress2.$pristine" class="glyphicon glyphicon-asterisk"></span>
                <span ng-show="isFieldValid(form.emailAddress2)" class="glyphicon glyphicon-ok"></span>
                <span ng-show="isFieldInvalid(form.emailAddress2)" class="glyphicon glyphicon-ban-circle"></span>
            </div>
            <div class="form-group">
                <label class="col-md-2 control-label" for="username">Username</label>
                <input class="col-md-6" id="username" name="username" type="text" ng-model="registration.username" ng-required="true"
                       th:attr="ng-maxlength=${maxUsernameLength}" ck-lowercase="true" placeholder="Choose a Username"
                       ck-unique="username"
                       ng-model-options="{debounce: 500}"/>
                <span ng-show="form.username.$pristine" class="glyphicon glyphicon-asterisk"></span>
                <span ng-show="isFieldValid(form.username)" class="glyphicon glyphicon-ok"></span>
                <span ng-show="isFieldInvalid(form.username)" class="glyphicon glyphicon-ban-circle"></span>
                <span ng-show="isAjaxPending(form.username)" class="glyphicon glyphicon-flash"></span>
            </div>
            <div class="form-group">
                <label class="col-md-2 control-label" for="pw1">Password</label>
                <input class="col-md-6" id="pw1" name="pw1" type="password" ng-model="registration.password" ng-required="true"
                       placeholder="Choose a Password"/>
                <span ng-show="form.pw1.$pristine" class="glyphicon glyphicon-asterisk"></span>
                <span ng-show="isFieldValid(form.pw1)" class="glyphicon glyphicon-ok"></span>
                <span ng-show="isFieldInvalid(form.pw1)" class="glyphicon glyphicon-ban-circle"></span>
                <ul class="pw-strength" ck-password-strength="registration.password"/>
            </div>
            <div class="form-group">
                <label class="col-md-2 control-label" for="pw2">Verify Password</label>
                <input class="col-md-6" id="pw2" name="pw2" type="password" ng-model="pw2" ng-required="true" ck-must-match="pw1"
                       placeholder="Reenter Your Chosen Password"/>
                <span ng-show="form.pw2.$pristine" class="glyphicon glyphicon-asterisk"></span>
                <span ng-show="isFieldValid(form.pw2)" class="glyphicon glyphicon-ok"></span>
                <span ng-show="isFieldInvalid(form.pw2)" class="glyphicon glyphicon-ban-circle"></span>
            </div>
        </fieldset>
        <fieldset>
            <legend>Organisation details</legend>
            <div class="form-group">
                <label class="col-md-2 control-label" for="organisationName">Organisation name</label>
                <input class="col-md-6"
                       id="organisationName"
                       name="organisationName"
                       type="text"
                       ng-model="registration.organisationName"
                       ng-required="true"
                       th:attr="ng-maxlength=${maxOrganisationNameLength}"
                       placeholder="Your organisation or company name"
                       ck-unique="organisationName"
                       ng-model-options="{debounce: 500}"/>
                <span ng-show="form.organisationName.$pristine" class="glyphicon glyphicon-asterisk"></span>
                <span ng-show="isFieldValid(form.organisationName)" class="glyphicon glyphicon-ok"></span>
                <span ng-show="isFieldInvalid(form.organisationName)" class="glyphicon glyphicon-ban-circle"></span>
                <span ng-show="isAjaxPending(form.organisationName)" class="glyphicon glyphicon-flash"></span>
            </div>
        </fieldset>
        <button type="submit" ng-disabled="isSubmitDisabled" class="col-md-offset-2 col-md-3 btn btn-primary">Start Using Codekvast</button>
        <div ng-show="alertMessage" class="col-md-offset-1 col-md-4 {{alertClass}}">
            {{alertMessage}}
        </div>
    </form>
</div>

<th:block th:include="fragments :: #scripts-twitter-bootstrap"/>
<th:block th:include="fragments :: #scripts-angularjs"/>
<script th:src="@{/app/register.js}"></script>
</body>
</html>
