<div ng-controller="SignatureController">

    <div class="panel panel-info" ng-show="allSignatures">
        <div class="panel-heading">Truly Dead Signatures</div>

        <div class="panel-body">

            <form class="form form-inline">
                <div class="input-group">
                    <span class="input-group-addon">Invoked before</span>
                    <input class="form-control col-lg-1" type="number" min="0" step="{{filter.ageStep}}" ng-model="filter.minAgeValue"/>
                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">{{filter.ageUnit}}
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li><a href="#" ng-click="setAgeUnit(0)">minutes</a></li>
                            <li><a href="#" ng-click="setAgeUnit(1)">hours</a></li>
                            <li><a href="#" ng-click="setAgeUnit(2)">days</a></li>
                        </ul>
                    </div>
                </div>

                <div class="input-group">
                    <span class="input-group-addon">Name filter</span>
                    <input class="form-control" type="text" placeholder="free text name filter" ng-model="filter.signature" size="50"/>
                </div>

                <div class="input-group">
                    <span class="input-group-addon">Max rows</span>
                    <input class="form-control" type="number" min="0" step="10" ng-model="filter.maxRows"/>
                    <span class="input-group-addon">of {{allSignatures.length}}</span>
                </div>
                <div class="input-group">
                    Result: {{trulyDeadSignatures.length}} signatures
                </div>
            </form>
        </div>
        <!-- panel-body -->
        <hr/>
        <table class="table table-striped table-hover table-condensed">
            <thead>
            <tr class="row">
                <th class="col-lg-9 signature-name">Name</th>
                <th class="col-lg-2 signature-invoked-at">Invoked&nbsp;At</th>
            </tr>
            </thead>

            <tbody>
            <tr class="row" ng-repeat="s in trulyDeadSignatures">
                <td class="col-lg-9 signature-name">{{::s.name}}</td>
                <td class="col-lg-2 signature-invoked-at">{{::s.invokedAtMillis | invokedAtDate:'short'}}</td>
            </tr>
            </tbody>
        </table>
    </div>

</div>
