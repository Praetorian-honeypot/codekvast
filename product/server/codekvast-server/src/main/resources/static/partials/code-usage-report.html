<div ng-controller="ReportController">

    <div class="panel panel-info">
        <div class="panel-heading">Create Code Usage Report (<a href="#" ng-click="showMockup = !showMockup">{{toggleMockupVerb()}}</a>)
        </div>


        <div class="panel-body">
            <div ng-show="showMockup">
                <h2>Static image generated from Balsamiq Mockups</h2>
                <img src="/images/mockups/ReportGenerator.png"/>
            </div>
            <div ng-hide="showMockup">
                <table>
                    <tr>
                        <th class="col-lg-1">Include applications (usage cycle)</th>
                        <th class="col-lg-1">Include versions</th>
                        <th class="col-lg-1">Include methods by execution date</th>
                        <th class="col-lg-1"></th>
                        <th class="col-lg-1"></th>
                    </tr>
                    <tr style="vertical-align: top">
                        <td class="col-lg-1">
                            <ul class="list-unstyled">
                                <li ng-repeat="a in formData.applications">
                                    <div class="checkbox">
                                        <label> <input type="checkbox" ng-model="a.selected">{{a.name}} ({{a.usageCycle }})</label>
                                    </div>
                                </li>
                            </ul>
                            Select <a href="#" ng-click="selectAll('applications', true)">all</a>
                            / <a href="#" ng-click="selectAll('applications', false)">none</a>
                        </td>
                        <td class="col-lg-1">
                            <ul class="list-unstyled">
                                <li ng-repeat="a in formData.versions">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" ng-model="a.selected"> {{a.name}}</label>
                                    </div>
                                </li>
                            </ul>
                            Select <a href="#" ng-click="selectAll('versions', true)">all</a> / <a href="#" ng-click="selectAll('versions', false)">none</a>
                        </td>
                        <td class="col-lg-1">
                            <ul class="list-unstyled">
                                <li>
                                    <div class="checkbox"><label>
                                        <input type="checkbox" ng-model="formData.neverExecutedMethods"/>
                                        Include never executed methods </label>
                                        <span popover-title="Never executed methods"
                                              popover="Methods that have not been executed since Codekvast started recording at {{recordingStartedAt()}}"
                                              popover-trigger="click"
                                              popover-placement="right"
                                              popover-append-to-body="true"
                                              class="glyphicon glyphicon-info-sign"></span>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" ng-model="formData.probablyDeadMethods"/>
                                            Include probably dead methods.</label>
                                        <span popover-title="Probably dead methods"
                                              popover="Methods that have not been executed during the last full usage cycle, which is {{fullUsageCycle()}}. (See settings)"
                                              popover-trigger="click"
                                              popover-placement="right"
                                              popover-append-to-body="true"
                                              class="glyphicon glyphicon-info-sign"></span>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox"><label>
                                        <input type="checkbox" ng-model="formData.bootstrapMethods"/>
                                        Include bootstrap methods. </label>
                                        <span popover-title="Bootstrap methods"
                                              popover="Methods that only execute within {{bootstrapTime()}} after start of the application. (See settings)"
                                              popover-trigger="click"
                                              popover-placement="right"
                                              popover-append-to-body="true"
                                              class="glyphicon glyphicon-info-sign"></span>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox"><label>
                                        <input type="checkbox" ng-model="formData.liveMethods"/>
                                        Include live methods.
                                    </label>
                                        <span popover-title="Live methods"
                                              popover="Methods that have executed during the last full usage cycle {{fullUsageCycle()}}"
                                              popover-trigger="click"
                                              popover-placement="right"
                                              popover-append-to-body="true"
                                              class="glyphicon glyphicon-info-sign"></span>
                                    </div>
                                </li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>&nbsp;</td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            <form class="form-inline">
                                <div class="form-group"><label for="previewRows">Preview&nbsp;
                                    <input id="previewRows"
                                           type="number"
                                           class="form-control"
                                           min="1"
                                           max="100"
                                           ng-model="formData.previewRows"/>&nbsp;rows&nbsp;</label>
                                </div>
                                <button type="submit" class="btn btn-primary" ng-click="previewData=!previewData;">Search and preview</button>
                            </form>
                        </td>
                    </tr>
                </table>

            </div>
        </div>
    </div>
    <div class="panel panel-info" ng-show="previewData">
        <div class="panel-heading">Report Preview</div>
        <div class="panel-body">
            <p>Preview</p>

            <p>Preview</p>

            <p>Preview</p>
        </div>
    </div>

</div>
