<div ng-controller="ReportController">

    <div class="panel panel-info">
        <div class="panel-heading">Create Code Usage Report (<a href="#" ng-click="showMockup = !showMockup">{{toggleMockupVerb()}}</a>)
        </div>


        <div class="panel-body">
            <div ng-show="showMockup">
                <h2>Static image generated from Balsamiq Mockups</h2>
                <img src="/images/mockups/ReportGenerator.png"/>
            </div>
            <div ng-hide="showMockup">
                <table>
                    <tr>
                        <th class="col-lg-1">Include applications (usage cycle)</th>
                        <th class="col-lg-1">Include versions</th>
                        <th class="col-lg-1">Include methods by execution date</th>
                        <th class="col-lg-1"></th>
                        <th class="col-lg-1"></th>
                    </tr>
                    <tr style="vertical-align: top">

                        <!-- Applications -->
                        <td class="col-lg-1">
                            <ul class="list-unstyled">
                                <li ng-repeat="a in formData.applications">
                                    <div class="checkbox">
                                        <label> <input type="checkbox" ng-model="a.selected">{{a.name}} ({{a.usageCycle }})</label>
                                    </div>
                                </li>
                            </ul>
                            Select <a href="#" ng-click="selectAll('applications', true)">all</a>
                            / <a href="#" ng-click="selectAll('applications', false)">none</a>
                        </td>

                        <!-- Versions -->
                        <td class="col-lg-1">
                            <ul class="list-unstyled">
                                <li ng-repeat="a in formData.versions">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" ng-model="a.selected"> {{a.name}}</label>
                                    </div>
                                </li>
                            </ul>
                            Select <a href="#" ng-click="selectAll('versions', true)">all</a> / <a href="#" ng-click="selectAll('versions', false)">none</a>
                        </td>

                        <!-- Methods -->
                        <td class="col-lg-2">
                            <ul class="list-unstyled">
                                <li ng-repeat="m in formData.methods">

                                    <div class="checkbox"><label>
                                        <input type="checkbox" ng-model="m.selected"/>
                                        {{m.labelText}}</label>
                                        <span popover-title="{{m.popoverTitle}}" popover="{{m.popoverText()}}"
                                              popover-trigger="click"
                                              popover-placement="right"
                                              popover-append-to-body="true"
                                              class="glyphicon glyphicon-info-sign"></span>
                                    </div>
                                    <div class="input-group input-group-sm"
                                         ng-show="m.showBootstrapSecondsInput && formData.methods[2].selected">
                                        <span class="input-group-addon">Bootstrap time</span>
                                        <input type="number" min="1" class="form-control col-sm-1" ng-model="formData.bootstrapTimeSeconds">
                                        <span class="input-group-addon">s</span>
                                    </div>
                                </li>

                            </ul>
                            Select <a href="#" ng-click="selectAll('methods', true)">all</a> / <a href="#"
                                                                                                  ng-click="selectAll('methods', false)">none</a>
                        </td>
                    </tr>
                    <tr>
                        <td>&nbsp;</td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            <form class="form-inline">
                                <div class="form-group"><label for="previewRows">Preview&nbsp;
                                    <input id="previewRows"
                                           type="number"
                                           class="form-control"
                                           min="1"
                                           max="100"
                                           ng-model="formData.previewRows"/>&nbsp;rows&nbsp;</label>
                                </div>
                                <button type="submit"
                                        class="btn btn-primary"
                                        ng-disabled="!isSubmitEnabled()" ng-click="previewReport()">Preview report
                                </button>
                            </form>
                        </td>
                    </tr>
                </table>

            </div>
        </div>
    </div>
    <div class="panel panel-info" ng-show="previewData">
        <div class="panel-heading">Report Preview</div>
        <div class="panel-body">
            <p>Preview</p>

            <p>Preview</p>

            <p>Preview</p>
        </div>
    </div>

</div>
